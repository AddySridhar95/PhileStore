



            case R.id.action_paste:

                Log.d("action_paste", clipboard.size() + "");

                // TODO: bug. pasting multiple items ....
                for (int i = 0; i < clipboard.size(); i++) {

                    String parentPath = path;
                    if (!parentPath.endsWith(File.separator)) {
                        parentPath = parentPath + File.separator;
                    }

                    File clipboardFile = new File(clipboard.get(i).getFilePath() + clipboard.get(i).getFileName());
                    File targetFile = new File(parentPath + clipboard.get(i).getFileName());
                    if (clipboardOperation == "move") {

                        boolean moveStatus = renameFile(clipboardFile, targetFile);
                        if (moveStatus) {
                            prepareFileItemsFromPath();
                            restartListFragment();
                        } else {
                            Toast toast = Toast.makeText(getApplicationContext(), "Move operation failed", Toast.LENGTH_SHORT);
                            toast.show();
                        }
                    } else {
                        boolean copyStatus = copyFilesOrDirectories(clipboardFile, targetFile);
                        if (copyStatus) {
                            // prepareFileItemsFromPath();
                            // restartListFragment();
                        } else {
                            Toast toast = Toast.makeText(getApplicationContext(), "Copy operation failed", Toast.LENGTH_SHORT);
                            toast.show();
                        }
                    }
                    clipboard.clear();
                    invalidateOptionsMenu();
                }
                return true;





